{% extends "base.html" %}

{% block title %}Edit Comment - Feature Requestor{% endblock %}

{% block content %}
<div class="edit-comment">
    <h1>Edit Comment</h1>
    <p><strong>Request:</strong> <a href="{{ url_for('feature_requests.detail', request_id=feature_request.id) }}">{{ feature_request.title }}</a></p>
    
    <form method="POST" action="{{ url_for('feature_requests.edit_comment', request_id=feature_request.id, comment_id=comment.id) }}">
        <div class="form-group">
            <label for="comment">Comment:</label>
            <textarea id="comment" name="comment" class="rich-text-editor" data-height="300px" required>{{ comment.comment }}</textarea>
        </div>
        <div class="form-group">
            <label for="bid_amount">Bid Amount (optional):</label>
            <input type="number" id="bid_amount" name="bid_amount" min="0" step="0.01" value="{{ comment.bid_amount }}"
                   {% if not current_user.stripe_account_id %}disabled title="You must connect a Stripe account to bid"{% endif %}>
            {% if not current_user.stripe_account_id %}
                <small>You must connect a Stripe account to place bids.</small>
            {% endif %}
        </div>
        <button type="submit" class="btn btn-primary">Update Comment</button>
        <a href="{{ url_for('feature_requests.detail', request_id=feature_request.id) }}" class="btn btn-secondary">Cancel</a>
    </form>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
    // Rich text editor is automatically initialized by rich-text-editor.js
</script>
{% endblock %}

